
#include <control.h>
#include <event.h>
#include <memory.h>
#include <orca.h>
#include <quickdraw.h>
#include <resources.h>
#include <window.h>
#include <misctool.h>

#include "22:t2.h"

/*#define deskAccEvt 0x000A
#define nullEvt 0x0000  */

#define MAX_X		640
#define MAX_Y		200
#define PI			3.141592653589793
#define DEGTORAD	2.0*PI/360.0

#define MainControlList		0x00000001L
#define DrawDelayPopCtl		1L
#define ColorsPopCtl			2L
#define ClearScreenPopCtl		3L
#define MoireTextCtl			4L 
#define IconCtl				5L

/* Palettes */

unsigned char Blue_Default_Palette[] = {
 0x00, 0x00, 0x02, 0x0F, 0xBF, 0x00, 0xFF, 0x0F, 0x00, 0x00, 0x0F, 0x09,
 0xF0, 0x0F, 0xFF, 0x0F, 0x00, 0x00, 0x02, 0x0F, 0xBF, 0x00, 0xFF, 0x0F,
 0x00, 0x00, 0x0F, 0x09, 0xF0, 0x0F, 0xFF, 0x0F
};    /* end Blue_Default_Palette */

unsigned char Bluescale_Palette[] = {
 0x02, 0x00, 0x7F, 0x03, 0xEE, 0x08, 0xEF, 0x0F, 0x02, 0x00, 0x7F, 0x03,
 0xEE, 0x08, 0xEF, 0x0F, 0x02, 0x00, 0x7F, 0x03, 0xEE, 0x08, 0xEF, 0x0F,
 0x02, 0x00, 0x7F, 0x03, 0xEE, 0x08, 0xEF, 0x0F
};    /* end Bluescale_Palette */

unsigned char Bright_Sun_Palette[] = {
 0x00, 0x04, 0x73, 0x0F, 0xE8, 0x0E, 0xFD, 0x0F, 0x00, 0x04, 0x73, 0x0F,
 0xE8, 0x0E, 0xFD, 0x0F, 0x00, 0x04, 0x73, 0x0F, 0xE8, 0x0E, 0xFD, 0x0F,
 0x00, 0x04, 0x73, 0x0F, 0xE8, 0x0E, 0xFD, 0x0F
};    /* end Bright_Sun_Palette */

unsigned char Dark_Sun_Palette[] = {
 0x02, 0x00, 0xA0, 0x0C, 0x61, 0x0F, 0x44, 0x0C, 0x02, 0x00, 0xA0, 0x0C,
 0x61, 0x0F, 0x44, 0x0C, 0x02, 0x00, 0xA0, 0x0C, 0x61, 0x0F, 0x44, 0x0C,
 0x02, 0x00, 0xA0, 0x0C, 0x61, 0x0F, 0x44, 0x0C
};    /* end Dark_Sun_Palette */

unsigned char Grayscale_Palette[] = {
 0x00, 0x00, 0x55, 0x05, 0xAA, 0x0A, 0xFF, 0x0F, 0x00, 0x00, 0x55, 0x05,
 0xAA, 0x0A, 0xFF, 0x0F, 0x00, 0x00, 0x55, 0x05, 0xAA, 0x0A, 0xFF, 0x0F,
 0x00, 0x00, 0x55, 0x05, 0xAA, 0x0A, 0xFF, 0x0F
};    /* end Grayscale_Palette */

unsigned char Landscape_Palette[] = {
 0x02, 0x00, 0x7F, 0x03, 0xA2, 0x06, 0xFE, 0x0E, 0x02, 0x00, 0x7F, 0x03,
 0xA2, 0x06, 0xFE, 0x0E, 0x02, 0x00, 0x7F, 0x03, 0xA2, 0x06, 0xFE, 0x0E,
 0x02, 0x00, 0x7F, 0x03, 0xA2, 0x06, 0xFE, 0x0E
};    /* end Landscape_Palette */

unsigned char Pastels_Palette[] = {
 0x00, 0x00, 0xB8, 0x0F, 0xFC, 0x0B, 0xFF, 0x0F, 0x00, 0x00, 0x9F, 0x0A,
 0xF9, 0x0F, 0xFF, 0x0F, 0x00, 0x00, 0xB8, 0x0F, 0xFC, 0x0B, 0xFF, 0x0F,
 0x00, 0x00, 0x9F, 0x0A, 0xF9, 0x0F, 0xFF, 0x0F
};    /* end Pastels_Palette */

#define cPastelsMItemID 		1u
#define cLandscapeMItemID		2u
#define cBrightSunMItemID		3u
#define cDarkSunMItemID		4u
#define cBluescaleMItemID		5u		
#define cGrayscaleMItemID		6u
#define cBlueDefaultMItemID	7u
#define cDefaultMItemID		8u
#define cRandomMItemID			9u

#define dd1SecMItemID			1u
#define dd2SecMItemID			2u
#define dd5SecMItemID			5u
#define dd10SecMItemID			10u
#define dd20SecMItemID			20u
#define dd30SecMItemID			30u
#define ddNoneMItemID			100u

#define cs1MoireMItemID		1u
#define cs2MoireMItemID		2u
#define cs6MoireMItemID		6u
#define cs10MoireMItemID		10u
#define cs20MoireMItemID		20u
#define csNeverMItemID			100u

/*
 This program used to make this table: (Thanks James Smith)

			void main(void) {

			float angle;
			int result;

			for(angle=0; angle<360; angle+=2) {
				if(!((int) angle%18))
					printf("\n");
				result=(int) (sin(angle/57.29578)*1000);
				printf("%2d,", result);
			}

			printf("\n");             
			}
*/

signed int SinTable[] = {
	 0,34,69,104,139,173,207,241,275,
	309,342,374,406,438,469,499,529,559,
	587,615,642,669,694,719,743,766,788,
	809,829,848,866,882,898,913,927,939,
	951,961,970,978,984,990,994,997,999,
	999,999,997,994,990,984,978,970,961,
	951,939,927,913,898,882,866,848,829,
	809,788,766,743,719,694,669,642,615,
	587,559,529,500,469,438,406,374,342,
	309,275,241,207,173,139,104,69,34,
	 0,-34,-69,-104,-139,-173,-207,-241,-275,
	-309,-342,-374,-406,-438,-469,-499,-529,-559,
	-587,-615,-642,-669,-694,-719,-743,-766,-788,
	-809,-829,-848,-866,-882,-898,-913,-927,-939,
	-951,-961,-970,-978,-984,-990,-994,-997,-999,
	-999,-999,-997,-994,-990,-984,-978,-970,-961,
	-951,-939,-927,-913,-898,-882,-866,-848,-829,
	-809,-788,-766,-743,-719,-694,-669,-642,-615,
	-587,-559,-529,-500,-469,-438,-406,-374,-342,
	-309,-275,-241,-207,-173,-139,-104,-69,-34
	};

EventRecord evtRec;