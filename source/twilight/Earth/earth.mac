 MACRO&lab pulllong &addr1,&addr2&lab ANOP AIF C:&addr1=0,.a AIF C:&addr2=0,.b LCLC &C&C AMID &addr1,1,1 AIF "&C"="[",.zeropage pullword &addr1 sta &addr2 pullword &addr1+2 sta &addr2+2 MEXIT.a pullword pullword MEXIT.b pullword &addr1 pullword &addr1+2 MEXIT.zeropage ldy #&addr2 pullword &addr1,y ldy #&addr2+2 pullword &addr1,y MEND MACRO&lab pullword &SYSOPR&lab ANOP pla AIF C:&SYSOPR=0,.end sta &SYSOPR.end MEND MACRO&lab longm&lab ANOP rep #%00100000 longa on MEND MACRO&lab shortm&lab ANOP sep #%00100000 longa off MEND MACRO&lab Debug &string aif t:debugSymbols="G",.begin mexit.begin dc i1'$82' dc i2'(L:&string)+3' dc i2'$7771' dc i1'L:&string',C'&string' MEND MACRO&lab dbrk &num aif t:debugBreaks="G",.begin mexit.begin brk &num MEND macro&lab ~GetAddress &tableID&lab LongResult ph2 &tableID Tool $0904 mend macro&lab Tool &number&lab ldx #&number jsl $E10000 mend macro&lab LongResult &zeros&lab anop aif c:&zeros=1,.zeros phd phd mexit.zeros pea $0000 pea $0000 mend macro&lab ph2 &addr,&offset&lab anop lclc &char&char amid "&addr",1,1 aif "&char"="@",.accumulator aif "&char"="*",.smartmacros aif "&char"="#",.immediate aif "&char"="<",.directPage aif "&char"="[",.zeropage aif C:&offset=0,.nooffset aif "&offset"="s",.stack lda &addr,&offset pha mexit.nooffset lda &addr pha mexit.stack lda &addr,s pha mexit.smartmacros mexit.accumulator pha mexit.directPage&addr amid &addr,2,L:&addr-1 pei &addr mexit.immediate&addr amid &addr,2,L:&addr-1 pea &addr mexit.zeropage aif C:&offset<>0,.zeroPageOff lda &addr pha mexit.zeroPageOff aif "&offset"="X",.zeroPageReg aif "&offset"="Y",.zeoPageReg aif "&offset"="x",.zeroPageReg aif "&offset"="y",.zeroPageReg ldy #&offset lda &addr,y pha mexit.zeroPageReg lda &addr,&offset pha mend